<wm-page pagetitle="Home" name="page1">
    <wm-header content="header" name="header1"></wm-header>
    <wm-top-nav content="topnav" name="top_nav1"></wm-top-nav>
    <wm-content name="content1">
        <wm-layoutgrid name="layoutgrid2" id="buttonsLayoutGrid" margin="20px 0px 10px 30px" width="50%">
            <wm-gridrow columnwidth="12" name="gridrow9" style="display: flex;">
                <wm-gridcolumn columnwidth="1" name="gridcolumn13" width="17%" class="entityViewButton">
                    <wm-button class="btn-default" id="entityViewBtn" caption="ENTITY VIEW" type="button" margin="unset 0.5em" name="button5_1" on-click="entityViewButtonClick($event, widget)"></wm-button>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn14" class="banViewButton">
                    <wm-button class="btn-default" id="banViewBtn" caption="BAN VIEW" type="button" margin="unset 1.3em unset 0.5em" name="button5_1" on-click="banViewButtonClick($event, widget)"></wm-button>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-layoutgrid name="layoutgrid2">
            <wm-gridrow name="gridrow6">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="filtersLabelGrid">
                    <wm-label caption="Filters" name="label8" color="#000" textdecoration="underline" style="font-size: 16px;"></wm-label>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-layoutgrid id="filterGridEntityView" name="layoutgrid4" margin="0 0 10px 30px" width="98%">
            <wm-gridrow name="gridrow3">
                <wm-message name="errormessage" type="error" show="bind:Variables.errorMsg.dataSet.dataValue ? true : false" caption="bind:Variables.errorMsg.dataSet.dataValue" class="errormessage" deferload="false" hideclose="true" width="100%"></wm-message>
            </wm-gridrow>
            <wm-gridrow name="gridrow6" margin="10px 0 30px 0" class="gridRow1">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="assignedTeamGrid">
                    <wm-label caption="Assigned Team" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="AssignedTeamSelectEV" width="70%" padding="unset 0.5em" dataset="bind:Variables.getTeamList_HomeEV.dataSet" datafield="teamId" placeholder="" displayfield="teamId" on-change="assignedTeamSelectEV_onChange($event, widget, newVal, oldVal)"
                        orderby="teamId:asc"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="portfolioGrid">
                    <wm-label caption="Portfolio*" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="portfolioSelectEV" width="70%" padding="unset 0.5em" dataset="bind:Variables.portfolioEntityView_home.dataSet" placeholder="" datafield="code" displayfield="code" datavalue="bind:Variables.portfolioEntityView_home.dataSet[0].dataValue"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn51" class="includeCurrentCreditGrid">
                    <wm-label caption="Include Current or Credit" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50">
                    <wm-select name="includeCurrentCreditSelectEV" width="100%" padding="unset 0.5em" dataset="bind:Variables.includeCurrentCredit_homeEV.dataSet" placeholder="" datafield="dataValue" displayfield="dataValue" datavalue="bind:Variables.includeCurrentCredit_homeEV.dataSet[0].dataValue"></wm-select>
                </wm-gridcolumn>
            </wm-gridrow>
            <wm-gridrow name="gridrow6" margin="10px 0 30px 0" class="gridRow1">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="entityOwnerGrid">
                    <wm-label caption="Entity Owner*" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="entityOwnerSelectEV" width="70%" padding="unset 0.5em" dataset="bind:Variables.getAllActiveUserList_HomeEV.dataSet" displayexpression="bind:$[firstName]==&quot;NULL&quot;? $[firstName] : $[firstName]+&quot; &quot;+$[lastName]"
                        datavalue="bind:Variables.getLoggedInUserDetails.dataSet.emplId" datafield="empId" placeholder="" on-change="entityOwnerSelectEVChange($event, widget, newVal, oldVal)"></wm-select>
                    <!--<wm-select name="entityOwnerSelectEV" width="70%" padding="unset 0.5em" dataset="bind:Variables.getAllActiveUserList_HomeEV.dataSet" displayexpression="bind:$[firstName]==&quot;NULL&quot;? $[firstName] : $[firstName]+&quot; &quot;+$[lastName]"-->
                    <!--    datavalue="bind:Variables.getLoggedInUserDetails.dataSet.emplId" datafield="empId" placeholder="" on-change="entityOwnerEVSelectOn_Change($event, widget, newVal, oldVal)"></wm-select>-->
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="billingSystemGrid">
                    <wm-label caption="Billing System*" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="billingSystemSelectEV" width="70%" padding="unset 0.5em" dataset="bind:Variables.billingSystemEntityView_home.dataSet" placeholder="" datafield="code" displayfield="code" datavalue="bind:Variables.billingSystemEntityView_home.dataSet[0].dataValue"></wm-select>
                </wm-gridcolumn>
            </wm-gridrow>
            <wm-gridrow name="gridrow6" margin="10px 0 30px 0" class="gridRow1">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="workCategoryGrid" style="display: flex; flex-direction: column;">
                    <wm-container name="container1">
                        <wm-label caption="Work Category*" color="grey" class="HomeFilterLabel" textalign="right" name="label18"></wm-label>
                    </wm-container>
                    <wm-container name="container2">
                        <wm-label caption="(multi-select)" color="grey" class="HomeFilterLabel" textalign="right" name="label19"></wm-label>
                    </wm-container>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="workCategorySelectEVNew" id="workCategorySelectEV" width="70%" padding="unset 0.5em" dataset="bind:Variables.getWorkCatByEmplIdForMultiSelect.dataSet" datafield="code" displayfield="code" placeholder="" multiple="true"
                        style="display: block; width: 145%;"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="collStatusGrid">
                    <wm-label caption="Coll Status*" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="collStatusSelectEV" width="70%" padding="unset 0.5em" dataset="bind:Variables.CollStatus_home.dataSet" placeholder="" datafield="code" displayfield="code" datavalue="bind:Variables.CollStatus_home.dataSet[0].dataValue"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="5" name="gridcolumn56" class="entityViewFilterButtons" width="47.7%">
                    <wm-button class="secondaryButton" caption="Clear" on-click="clearFilterFieldsEntityView()" name="button1" margin="0 10px 0 0"></wm-button>
                    <wm-button class="primaryButton" id="createBtn" caption="Filter" on-click="applyFiltersEntityView($event, widget)" name="button3"></wm-button>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-layoutgrid id="filterGridBanView" name="layoutgrid4" margin="0 0 10px 30px" width="98%" show="bind:Variables.hideBanFilterGrid.dataValue">
            <wm-gridrow name="gridrow7">
                <wm-message name="errormessage" type="error" show="bind:Variables.errorMsg.dataSet.dataValue ? true : false" caption="bind:Variables.errorMsg.dataSet.dataValue" class="errormessage" deferload="false" hideclose="true" width="100%"></wm-message>
            </wm-gridrow>
            <wm-gridrow name="gridrow6" margin="10px 0 30px 0" class="gridRow1">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="assignedTeamGrid">
                    <wm-label caption="Assigned Team" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="AssignedTeamSelectBV" width="70%" padding="unset 0.5em" dataset="bind:Variables.getTeamList_HomeBV.dataSet" datafield="teamId" placeholder="" displayfield="teamId" on-change="assignedTeamSelectBV_onChange($event, widget, newVal, oldVal)"
                        orderby="teamId:asc"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="portfolioGrid">
                    <wm-label caption="Portfolio*" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="portfolioSelectBV" width="70%" padding="unset 0.5em" dataset="bind:Variables.portfolioEntityView_home.dataSet" placeholder="" datafield="code" displayfield="code" datavalue="bind:Variables.portfolioEntityView_home.dataSet[0].dataValue"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn51" class="includeCurrentCreditGrid">
                    <wm-label caption="Include Current or Credit" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50">
                    <wm-select name="includeCurrentCreditSelectBV" width="100%" padding="unset 0.5em" dataset="bind:Variables.includeCurrentCredit_homeBV.dataSet" placeholder="" datafield="dataValue" displayfield="dataValue" datavalue="bind:Variables.includeCurrentCredit_homeBV.dataSet[0].dataValue"></wm-select>
                </wm-gridcolumn>
            </wm-gridrow>
            <wm-gridrow name="gridrow6" margin="10px 0 30px 0" class="gridRow1">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="entityOwnerGrid">
                    <wm-label caption="Entity Owner*" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="entityOwnerSelectBV" width="70%" padding="unset 0.5em" dataset="bind:Variables.getAllActiveUserList_HomeBV.dataSet" displayexpression="bind:$[firstName]==&quot;NULL&quot;? $[firstName] : $[firstName]+&quot; &quot;+$[lastName]"
                        datavalue="bind:Variables.UserLoggedInVar_home.dataSet.empId" datafield="empId" placeholder="" displayfield="dataValue" on-change="entityOwnerSelectBVChange($event, widget, newVal, oldVal)"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="billingSystemGrid">
                    <wm-label caption="Billing System*" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="billingSystemSelectBV" width="70%" padding="unset 0.5em" dataset="bind:Variables.billingSystemEntityView_home.dataSet" placeholder="" datafield="code" displayfield="code" datavalue="bind:Variables.billingSystemEntityView_home.dataSet[0].dataValue"></wm-select>
                </wm-gridcolumn>
            </wm-gridrow>
            <wm-gridrow name="gridrow6" margin="10px 0 30px 0" class="gridRow1">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="workCategoryGrid" style="display: flex; flex-direction: column;">
                    <wm-label caption="Work Category*" name="label8" color="grey" class="HomeFilterLabel" textalign="right"></wm-label>
                    <wm-label caption="(multi-select)" name="label8" color="grey" class="HomeFilterLabel" textalign="right"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="workCategorySelectBV" id="workCategorySelectBV" width="70%" padding="unset 0.5em" dataset="bind:Variables.getWorkCatByEmplIdForMultiSelect.dataSet" datafield="code" displayfield="code" placeholder="" multiple="true" style="display: block; width: 145%;"></wm-select>
                </wm-gridcolumn>
                <!--<wm-gridcolumn columnwidth="2" name="gridcolumn50_Ban">-->
                <!--    <wm-container name="container2_2">-->
                <!--        <wm-composite name="composite4_2" width="70%"><input type="text" name="checkAndUncheck" id="WorkCategoryMutliSelForBanView" placeholder="Select"></wm-composite>-->
                <!--    </wm-container>-->
                <!--</wm-gridcolumn>-->
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="collStatusGrid">
                    <wm-label caption="Coll Status*" name="label8" color="grey" class="HomeFilterLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="2" name="gridcolumn50">
                    <wm-select name="collStatusSelectBV" width="70%" padding="unset 0.5em" dataset="bind:Variables.CollStatus_home.dataSet" placeholder="" datafield="code" displayfield="code" datavalue="bind:Variables.CollStatus_home.dataSet[0].dataValue"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn56" class="banViewFilterButtons" width="47.7%">
                    <wm-button class="secondaryButton" caption="Clear" on-click="clearFilterFieldsBanView()" name="button1" margin="0 10px 0 0"></wm-button>
                    <wm-button class="primaryButton" id="createBtn" caption="Filter" on-click="applyFiltersBanView($event, widget)" name="button3"></wm-button>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-layoutgrid id="entityViewTableGrid" style="border: 1px solid #ddd;" width="96%" margin="20px 0px 10px 30px" name="layoutgrid4">
            <wm-table title="" dataset="bind:Variables.CollectionDataServiceGetAssignedEntitiesInEntityView3.dataSet" navigation="None" name="table1" margin="16px 10px 16px 16px" width="98%" navigationalign="right" pagesize="10" class="Table-Font">
                <wm-table-column binding="entityId" caption="ENT ID" widget-type="anchor" edit-widget-type="number" type="integer" show="true" readonly="false">
                    <wm-anchor caption="bind:row.getProperty('entityId')" hyperlink="bind:row.getProperty('entityId')" class="" conditionalclass="" on-click="goToEnityPage(row)"></wm-anchor>
                </wm-table-column>
                <wm-table-column binding="entityName" caption="ENT Name" width="260px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                <wm-table-column binding="currentAr" caption="CURR AR" width="120px" col-class="CURR_AR" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                <wm-table-column binding="ar30Days" caption="30D AR" width="120px" col-class="thirtyD_AR" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                <wm-table-column binding="ar60Days" caption="60D AR" width="120px" col-class="sixtyD_AR" edit-widget-type="text " type="string" show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="ar90DaysPlus" caption="90D+ AR" width="120px" col-class="ninetyD_AR" edit-widget-type="text " type="string" show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="totalOverDue" caption="Total OD " width="120px" col-class="total_OD" edit-widget-type="text " type="string " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="totalAr" caption="Total AR " width="120px" col-class="total_AR" edit-widget-type="text
                        " type="string " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="disputeFlag " caption="In Dispute " edit-widget-type="checkbox " type="boolean " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="odRemaining " caption="OD REM CALC " width="106px" edit-widget-type="text " type="string
                        " formatpattern="None" suffix="% " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="portfolioCategory " caption="Portfolio " width="100px" edit-widget-type="text " type="string " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="openActionDate " caption="Open Action " width="95px" edit-widget-type="text " type="string " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="totalBan " caption="Total BANs " edit-widget-type="number " type="integer " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="totalDelinquentBans " caption="Dlq BANs " edit-widget-type="number " type="integer " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="entityType " caption="ENT Type " edit-widget-type="text " type="string " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="entityOwnerId " caption="ENT Owner " width="98px" edit-widget-type="text " type="string " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="assignedTeam" caption="Assigned Team" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                <wm-table-row content="entityViewHome_rowExp" expandicon="wi wi-expand-more" collapseicon="wi wi-chevron-right" position="0" closeothers="true" on-rowexpand="table1_OnRowexpand($event, widget, row, $data)" widget-type="button"
                    show="true" disabled="false" class="btn-transparent" columnwidth="30px"></wm-table-row>
            </wm-table>
            <wm-container name="containerPagination5"></wm-container>
            <wm-prefab prefabname="Telus_Paginaton" paginationname="containerPagination5" show="true" name="Telus_Paginaton" pagesize="10" on-pagechange="Telus_PaginatonPagechange($event, $data)" totalrecords="bind:Variables.CollectionDataServiceGetAssignedEntitiesInEntityView3.dataSet[0].totalNumberOfElement"></wm-prefab>
        </wm-layoutgrid>
        <wm-layoutgrid id="banViewTableGrid
                        " style="border: 1px solid #ddd; " width="96% " margin="20px 0px 10px 30px " name="layoutgrid5 " show="bind:Variables.hideBanTableGrid.dataValue ">
            <wm-table title=" " class="Table-Font " dataset="bind:Variables.CollectionDataServiceGetassignedEntitiesInClassicView2.dataSet
                        " navigation="Classic " name="table2 " margin="16px 10px 16px 16px " width="98% " navigationalign="right " pagesize="10 ">
                <wm-table-column binding="entityId" caption="ENT ID " widget-type="anchor " edit-widget-type="number
                        " type="integer " show="true " readonly="false ">
                    <wm-anchor caption="bind:row.getProperty( 'entityId') " hyperlink="bind:row.getProperty( 'entityId') " class=" " conditionalclass=" " on-click="goToEnityPage(row)
                        "></wm-anchor>
                </wm-table-column>
                <wm-table-column binding="cbucId " caption="CBUCID " edit-widget-type="text " type="string " show="true " readonly="false "></wm-table-column>
                <wm-table-column binding="rcId " caption="RCID " edit-widget-type="text " type="string
                        " show="true " readonly="false "></wm-table-column>
                <wm-table-column binding="banId " caption="BAN # " edit-widget-type="text " type="string " show="true " readonly="false "></wm-table-column>
                <wm-table-column binding="banName
                        " caption="BAN Name " width="280px " edit-widget-type="text " type="string " show="true " readonly="false "></wm-table-column>
                <wm-table-column binding="billingSystem " caption="BILL SYS " edit-widget-type="text " type="string
                        " show="true " readonly="false "></wm-table-column>
                <wm-table-column binding="currentAr" caption="CURR AR " width="120px" edit-widget-type="text " type="string " show="true " readonly="false" col-class="CURR_AR"></wm-table-column>
                <wm-table-column binding="ar30Days" caption="30D AR " width="120px" edit-widget-type="text " type="string " show="true " readonly="false " col-class="thirtyD_AR"></wm-table-column>
                <wm-table-column binding="ar60Days" caption="60D AR " width="120px" edit-widget-type="text " type="string " show="true " readonly="false " col-class="sixtyD_AR"></wm-table-column>
                <wm-table-column binding="ar90DaysPlus" caption="90D+ AR " width="120px" col-class="ninetyD_AR" edit-widget-type="text " type="string " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="totalOverDue" caption="Total OD" width="120px" edit-widget-type="text " type="string" show="true " readonly="false " col-class="total_OD"></wm-table-column>
                <wm-table-column binding="totalAr" caption="Total AR" width="120px" edit-widget-type="text" type="string " show="true " readonly="false " col-class="total_AR"></wm-table-column>
                <wm-table-column binding="disputeAmount" caption="Dispute $ " width="120px" col-class="dispute_Amt" edit-widget-type="text " type="string " show="true " readonly="false"></wm-table-column>
                <wm-table-column binding="lastPaymentDate" caption="PMT DT " edit-widget-type="text " type="string " show="true " readonly="false "></wm-table-column>
                <wm-table-column binding="odRemaining" caption="OD REM CALC " edit-widget-type="text " type="string " formatpattern="suffix " suffix="% " show="true " readonly="false " width="106px"></wm-table-column>
                <wm-table-column binding="portfolioCategory " caption="Portfolio " width="100px " edit-widget-type="text " type="string
                        " show="true " readonly="false "></wm-table-column>
                <wm-table-column binding="openActionDate " caption="Open Action DT " edit-widget-type="text " type="string " show="true " readonly="false
                        " width="110px "></wm-table-column>
                <wm-table-column binding="entityOwnerId " caption="ENT Owner " edit-widget-type="text " type="string " show="true " readonly="false "></wm-table-column>
                <wm-table-column binding="assignedTeam " caption="Assigned Team " edit-widget-type="text " type="string " show="true " readonly="false" width="110px"></wm-table-column>
                <wm-table-row content="banViewHome_rowExp" expandicon="wi wi-expand-more" collapseicon="wi wi-chevron-right" position="0" closeothers="true" on-rowexpand="table2_OnRowexpand($event, widget, row, $data)" widget-type="button"
                    show="true" disabled="false" class="btn-transparent" columnwidth="30px"></wm-table-row>
            </wm-table>
            <wm-container name="containerPagination6"></wm-container>
            <wm-prefab prefabname="Telus_Paginaton" paginationname="containerPagination6" show="true" name="Telus_PaginatonBanView" pagesize="10" on-pagechange="Telus_PaginatonBanViewPagechange($event, $data)" totalrecords="bind:Variables.CollectionDataServiceGetassignedEntitiesInClassicView2.dataSet[0].totalNumberOfElement"></wm-prefab>
        </wm-layoutgrid>
    </wm-content>
    <wm-footer content="footer
                        " name="footer1 "></wm-footer>
</wm-page>
<wm-page pagetitle="Domain Value Create Edit" name="page1">
    <wm-header content="header" name="header1"></wm-header>
    <wm-top-nav content="topnav" name="top_nav1"></wm-top-nav>
    <wm-content name="content1">
        <!--<wm-left-panel columnwidth="2" content="Partial_SetupLeftNav" name="left_panel1"></wm-left-panel>-->
        <wm-page-content columnwidth="12" name="page_content1">
            <wm-container name="content-wrapper" class="jc-sb flexCol colflex-center-sb width-full">
                <wm-container width="97%" name="container4">
                    <wm-layoutgrid name="domainValueGrid" columns="1">
                        <wm-message name="errorMsg" type="error" caption="bind:ErrorMessage" show="bind:ShowErrorMessage"></wm-message>
                        <wm-gridrow name="gridrow3">
                            <wm-gridcolumn columnwidth="12" name="gridcolumn5">
                                <wm-container name="headingContainer">
                                    <wm-label name="label3" class="dv-header-label dvType" style="font-size:initial" caption="bind:pageParams.domainValueId ?  Variables.readOnlyMode.dataSet.dataValue? &quot;View&quot; : &quot;Edit '&quot;+ Variables.mv_domainValue.dataSet.defaultLocale.description + &quot;'&quot; : &quot;Create&quot;
"></wm-label>
                                    <wm-label name="label1" caption="Domain Values >" class="dv-header-label" margin="unset unset unset 0.1em" color="#333"></wm-label>
                                    <wm-label name="label2" caption="bind:Variables.getDvtById.dataSet[$i].description" class="dv-header-label dvType" style="margin-left: 8px !important;"></wm-label>
                                </wm-container>
                            </wm-gridcolumn>
                        </wm-gridrow>
                        <wm-gridrow name="gridrow4">
                            <wm-gridcolumn columnwidth="12" name="gridcolumn6">
                                <wm-container name="container5"></wm-container>
                                <wm-layoutgrid name="layoutgrid11">
                                    <wm-gridrow name="gridrow26_2">
                                        <wm-gridcolumn columnwidth="6" name="gridcolumn30_1">
                                            <wm-anchor name="backLink" caption="Back" fontsize="1.2" fontunit="em" encodeurl="false" on-click="buttonCancelClick($event, widget)" width="20%"></wm-anchor>
                                        </wm-gridcolumn>
                                        <wm-gridcolumn columnwidth="6" name="gridcolumn31">
                                            <wm-container name="container4_1" horizontalalign="right">
                                                <wm-button class="btn-default" caption="Edit" type="button" margin="unset 0.5em" name="EditButton" on-click="EditButtonClick($event, widget)" show="bind:Variables.readOnlyMode.dataSet.dataValue"></wm-button>
                                            </wm-container>
                                        </wm-gridcolumn>
                                    </wm-gridrow>
                                </wm-layoutgrid>
                            </wm-gridcolumn>
                        </wm-gridrow>
                        <wm-gridrow name="gridrow5">
                            <wm-gridcolumn columnwidth="12" name="gridcolumn7">
                                <wm-form errormessage="" captionposition="left" title="" enctype="application/x-www-form-urlencoded" method="post" dataset="bind:Variables.mv_domainValue.dataSet" captionalign="left" name="domainValueForm" formdata="bind:Variables.mv_domainValue.dataSet"
                                    margin="1em unset unset unset">
                                    <wm-layoutgrid columns="1" name="layoutgrid2" class="fi-panel">
                                        <wm-gridrow name="gridrow5_1">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn5_1">
                                                <wm-form-field name="code" readonly="bind:Variables.readOnlyMode.dataSet.dataValue" displayname="Code" key="code" type="string" show="true" widget="text" inputtype="text" placeholder="" on-blur="codeBlur($event, widget)"
                                                    required="true" validationmessage="Code is required." disabled="bind:pageParams.domainValueId ? true : false" maxchars="50"></wm-form-field>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                        <wm-gridrow name="gridrow26_1">
                                            <wm-gridcolumn columnwidth="3" name="gridcolumn29">
                                                <wm-label padding="unset 1em unset 0.5em" name="label10" width="100%" caption="Description" margin="5px unset unset unset"></wm-label>
                                            </wm-gridcolumn>
                                            <wm-gridcolumn columnwidth="9" name="gridcolumn30">
                                                <wm-label padding="unset 0.5em" name="label8" class="leftbox" caption="en" fontweight="bold" margin="unset 2px unset unset" show="false"></wm-label>
                                                <wm-label padding="unset 0.5em" name="label9" class="rightbox" textalign="left" caption="Descritpion is required" show="bind:showDescriptionErrorMsg?true:false" margin="5px unset unset unset"></wm-label>
                                                <wm-text name="desc" class="middlebox" placeholder="" required="false" datavalue="bind:Variables.mv_domainValue.dataSet.defaultLocale.description" on-blur="descBlur($event, widget)" maxchars="100"
                                                    readonly="bind:Variables.readOnlyMode.dataSet.dataValue"></wm-text>
                                            </wm-gridcolumn>
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn8_1" padding="10px unset unset unset">
                                                <wm-form-field name="active" key="active" type="boolean" displayname="bind:Widgets.domainValueForm.formWidgets.active.datavalue? 'Active' : 'Inactive'

" widget="toggle" show="true" defaultvalue="true" checkedvalue="true" uncheckedvalue="false" readonly="true"></wm-form-field>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                        <wm-gridrow name="gridrow14">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn14" padding="unset 1em">
                                                <wm-layoutgrid name="localeGrid" columns="1" show="bind:false">
                                                    <wm-gridrow name="gridrow17">
                                                        <wm-gridcolumn columnwidth="6" name="gridcolumn19" padding="1em unset">
                                                            <wm-label padding="unset 0.5em unset unset" name="label4" caption="Locales" class="sub-heading" textalign="left"></wm-label>
                                                        </wm-gridcolumn>
                                                        <wm-gridcolumn columnwidth="6" name="gridcolumn23" horizontalalign="right">
                                                            <wm-button class="btn-default" caption="Add Locale" type="button" margin="unset 0.5em" name="button2" on-click="Widgets.localeDetailsDialog.open()" disabled="bind:Variables.mv_domainValue.dataSet.domainValueDescription.length == Variables.localesListWithoutDesc.dataSet.length"></wm-button>
                                                        </wm-gridcolumn>
                                                    </wm-gridrow>
                                                    <wm-gridrow name="gridrow18">
                                                        <wm-gridcolumn columnwidth="12" name="gridcolumn20">
                                                            <wm-table name="domainValueDescriptionTable" title="" dataset="bind:Variables.mv_domainValue.dataSet.domainValueDescription" navigation="None" enablesort="true">
                                                                <wm-table-column binding="locale" caption="Locale" widget-type="label" width="45%" edit-widget-type="text" type="string" show="true" readonly="false">
                                                                    <wm-label caption="bind:row.getProperty('locale')" class="" conditionalclass=""></wm-label>
                                                                </wm-table-column>
                                                                <wm-table-column binding="description" caption="Description" widget-type="label" width="45%" edit-widget-type="text" type="string" show="true" readonly="false">
                                                                    <wm-label caption="bind:row.getProperty('description')" class="" conditionalclass=""></wm-label>
                                                                </wm-table-column>
                                                                <wm-table-column binding="rowOperations" caption="Actions" width="120px" edit-widget-type="text" type="custom" readonly="true" sortable="false" searchable="false" show="true"></wm-table-column>
                                                                <wm-table-row-action key="updaterow" display-name="" show="true" class="btn-transparent" iconclass="wi wi-pencil fico fico-icon-pencil" title="Edit" action="domainValueDescriptionTable_updaterowAction($event, row)"
                                                                    disabled="false" widget-type="button"></wm-table-row-action>
                                                                <wm-table-row-action key="deleterow" display-name="" show="bind:!isEditDV" class="btn-transparent" iconclass="fico-icon-minus-circle" title="Delete" action="domainValueDescriptionTable_deleterowAction($event, row)"
                                                                    disabled="false" widget-type="button" icon="fico-icon-minus-circle"></wm-table-row-action>
                                                            </wm-table>
                                                        </wm-gridcolumn>
                                                    </wm-gridrow>
                                                </wm-layoutgrid>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                        <!--<wm-gridrow name="gridrow7">-->
                                        <!--    <wm-gridcolumn columnwidth="12" name="gridcolumn7_1">-->
                                        <!--        <wm-form-field name="default" readonly="false" displayname="Is Default" key="default" type="boolean" show="true" widget="toggle" placeholder="" margin="3pt unset unset unset"></wm-form-field>-->
                                        <!--    </wm-gridcolumn>-->
                                        <!--</wm-gridrow>-->
                                        <!--<wm-gridrow name="gridrow8">-->
                                        <!--    <wm-gridcolumn columnwidth="12" name="gridcolumn8_1">-->
                                        <!--        <wm-form-field name="active" key="active" type="boolean" displayname="Active" widget="text" show="true"></wm-form-field>-->
                                        <!--    </wm-gridcolumn>-->
                                        <!--</wm-gridrow>-->
                                        <!--<wm-gridrow name="gridrow9">-->
                                        <!--    <wm-gridcolumn columnwidth="12" name="gridcolumn9">-->
                                        <!--        <wm-form-field name="rankOrder" readonly="false" displayname="Rank order" key="rankOrder" type="integer" show="true" widget="number" textalign="right" inputtype="number" placeholder=""></wm-form-field>-->
                                        <!--    </wm-gridcolumn>-->
                                        <!--</wm-gridrow>-->
                                        <wm-gridrow name="gridrow10">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn10">
                                                <wm-form-field name="createdOn" displayname="Created" key="createdOn" type="date" show="true" widget="text" inputtype="text" placeholder="" disabled="true" defaultvalue="bind:Variables.mv_domainValue.dataSet.createdOn ? displayCustomUserAndDateValues(Variables.mv_domainValue.dataSet.createdOn,Variables.mv_domainValue.dataSet.createdBy) : &quot;&quot;"></wm-form-field>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                        <wm-gridrow name="gridrow17_1">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn18" padding="unset 1em">
                                                <wm-layoutgrid name="relationTableGrid" columns="1" show="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[0].parentDomainValueTypeId1 != null">
                                                    <wm-gridrow name="gridrow20" padding="1em unset">
                                                        <wm-gridcolumn columnwidth="6" name="gridcolumn23_1">
                                                            <wm-label padding="unset 0.5em" name="label6" caption="Relation" class="sub-heading" textalign="left"></wm-label>
                                                        </wm-gridcolumn>
                                                        <wm-gridcolumn columnwidth="6" name="gridcolumn27" horizontalalign="right">
                                                            <wm-button class="btn-default" caption="ADD RELATION" type="button" margin="unset 0.5em" name="addRelationBtn" on-click="addRelationBtnClick($event, widget)" show="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[0].parentDomainValueTypeId1 != null"></wm-button>
                                                        </wm-gridcolumn>
                                                    </wm-gridrow>
                                                    <wm-gridrow name="gridrow21">
                                                        <wm-gridcolumn columnwidth="12" name="gridcolumn24">
                                                            <wm-table editmode="inline" name="domainValueRelationTable" title="" dataset="bind:Variables.mv_domainValue.dataSet.domainValueRelation" navigation="None" enablesort="false" deletedialogtitle="bind:appLocale.MESSAGE_DELETE_RECORD"
                                                                deleteoktext="bind:YES" deletecanceltext="bind:NO" rowngclass="{'display-none':row.getProperty('deleted')}" nodatamessage="">
                                                                <wm-table-column binding="parent1DomainValueDescription" caption="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[$i].domainValueTypeByParentDomainValueTypeId1.description" widget-type="label"
                                                                    width="45%" edit-widget-type="text" type="string" show="true" readonly="false">
                                                                    <wm-label caption="bind:row.getProperty('parent1DomainValueDescription')" class="" conditionalclass=""></wm-label>
                                                                </wm-table-column>
                                                                <wm-table-column binding="parent2DomainValueDescription" caption="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[$i].domainValueTypeByParentDomainValueTypeId2.description"
                                                                    widget-type="label" width="45%" edit-widget-type="text" type="string" show="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[$i].parentDomainValueTypeId2 != null" readonly="false">
                                                                    <wm-label caption="bind:row.getProperty('parent2DomainValueDescription')" class="" conditionalclass=""></wm-label>
                                                                </wm-table-column>
                                                                <wm-table-column binding="deleted" caption="Deleted" edit-widget-type="text" type="string" show="false" readonly="false"></wm-table-column>
                                                                <wm-table-column binding="rowOperations" caption="Actions" width="120px" edit-widget-type="text" type="custom" readonly="true" sortable="false" searchable="false" show="true"></wm-table-column>
                                                                <wm-table-row-action key="updaterow" display-name="" show="true" class="btn-primary btn-xs" iconclass="wi wi-pencil fico fico-icon-pencil" title="Edit" action="domainValueRelationTable_updaterowAction($event, row)"
                                                                    disabled="false" widget-type="button"></wm-table-row-action>
                                                                <wm-table-row-action key="deleterow" display-name="" show="true" class="btn-default btn-xs" iconclass="wi wi-trash fico fico-icon-trash" title="Delete" action="domainValueRelationTable_deleterowAction($event, row)"
                                                                    disabled="false" widget-type="button"></wm-table-row-action>
                                                            </wm-table>
                                                        </wm-gridcolumn>
                                                    </wm-gridrow>
                                                </wm-layoutgrid>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                        <wm-gridrow name="gridrow1">
                                            <wm-gridcolumn name="gridcolumn1" columnwidth="12">
                                                <wm-form-field name="updatedOn" displayname="Updated" key="updatedOn" type="date" show="true" widget="text" disabled="true" defaultvalue="bind:Variables.mv_domainValue.dataSet.updatedOn? displayCustomUserAndDateValues(Variables.mv_domainValue.dataSet.updatedOn,Variables.mv_domainValue.dataSet.updatedBy) : &quot;&quot;
" placeholder="" inputtype="text"></wm-form-field>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                    </wm-layoutgrid>
                                </wm-form>
                            </wm-gridcolumn>
                        </wm-gridrow>
                        <wm-gridrow name="gridrow6" class="action-container">
                            <wm-gridcolumn columnwidth="12" name="gridcolumn8" horizontalalign="right">
                                <wm-button class="secondaryButton" caption="CANCEL" type="button" margin="unset 0.5em" name="button6" on-click="buttonCancelClick($event, widget)"></wm-button>
                                <wm-button class="primaryButton" caption="SAVE" type="button" margin="unset 0.5em" name="saveBtn" on-click="saveBtnClick($event, widget)"></wm-button>
                            </wm-gridcolumn>
                        </wm-gridrow>
                    </wm-layoutgrid>
                </wm-container>
            </wm-container>
        </wm-page-content>
    </wm-content>
    <wm-footer content="footer" name="footer1"></wm-footer>
    <wm-dialog dialogtype="design-dialog" modal="true" title="Relation Details" iconclass="wi wi-file-text" name="relationDetailsDialog" on-opened="relationDetailsDialogOpened($event, widget)" on-close="relationDetailsDialogClose($event, widget)">
        <wm-message name="relationPopupMsg" type="error" caption="bind:Variables.relationPopupMessage.dataSet.dataValue" hideclose="true"></wm-message>
        <wm-layoutgrid name="layoutgrid5">
            <wm-gridrow name="gridrow26">
                <wm-gridcolumn columnwidth="12" name="gridcolumn32">
                    <wm-form errormessage="" captionposition="left" title="" enctype="application/x-www-form-urlencoded" method="post" captionalign="left" name="relationDetailsForm" formdata="bind:Variables.relationDetails.dataSet" dataset="bind:Variables.relationDetails.dataSet"
                        postmessage="">
                        <wm-layoutgrid columns="1" name="layoutgrid6">
                            <wm-gridrow name="gridrow28">
                                <wm-gridcolumn name="gridcolumn34">
                                    <wm-layoutgrid name="layoutgrid7">
                                        <wm-gridrow name="gridrow29">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn35">
                                                <wm-form-field name="dvParent1" readonly="false" displayname="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[$i].domainValueTypeByParentDomainValueTypeId1.description" key="parent1DomainValueDescription"
                                                    type="string" show="true" widget="select" placeholder="( Select )" required="true" validationmessage="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[0].domainValueTypeByParentDomainValueTypeId1.description + &quot; is required.&quot;"
                                                    dataset="bind:Variables.getDVlistParent1.dataSet.pageContent" datafield="All Fields" displayfield="description" orderby="description:desc" on-change="dvParent1Change($event, widget, newVal, oldVal)"></wm-form-field>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                        <wm-gridrow name="gridrow30">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn36">
                                                <wm-form-field name="dvParent2" readonly="false" displayname="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[$i].domainValueTypeByParentDomainValueTypeId2.description" key="parent2DomainValueDescription"
                                                    type="string" show="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[0].parentDomainValueTypeId2 != null" widget="select" placeholder="( Select )" validationmessage="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[0].domainValueTypeByParentDomainValueTypeId2.description + &quot; is required.&quot;"
                                                    required="bind:Variables.getDomainValueTypeRelationshipById.dataSet.data[0].parentDomainValueTypeId2 != null" dataset="bind:Variables.getDVlistParent2.dataSet.pageContent" datafield="All Fields" displayfield="description"
                                                    orderby="description:desc" on-change="dvParent2Change($event, widget, newVal, oldVal)"></wm-form-field>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                    </wm-layoutgrid>
                                </wm-gridcolumn>
                            </wm-gridrow>
                        </wm-layoutgrid>
                    </wm-form>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-dialogactions name="dialogactions1">
            <wm-button class="btn-default" caption="SAVE" type="button" margin="unset 0.5em" name="saveBtnRelationDetails" on-click="saveBtnRelationDetailsClick($event, widget)"></wm-button>
            <wm-button class="btn-primary" caption="CANCEL" on-click="Widgets.relationDetailsDialog.close()" name="button3"></wm-button>
        </wm-dialogactions>
    </wm-dialog>
    <wm-dialog dialogtype="design-dialog" modal="true" title="Add Locale" iconclass="" name="localeDetailsDialog" on-close="localeDetailsDialogClose($event, widget)" width="700">
        <wm-message name="localePopupMsg" type="error" caption="bind:Variables.localePopupMessage.dataSet.dataValue" hideclose="true" show="bind:showLocaleErrorMsg"></wm-message>
        <wm-layoutgrid name="layoutgrid8" columns="1">
            <wm-gridrow name="gridrow29_1">
                <wm-gridcolumn columnwidth="12" name="gridcolumn36_1">
                    <wm-form errormessage="" captionposition="left" title="" enctype="application/x-www-form-urlencoded" method="post" dataset="bind:Variables.localeDetails.dataSet" captionalign="left" name="localeDetailsForm" formdata="bind:Variables.localeDetails.dataSet"
                        postmessage="">
                        <wm-layoutgrid columns="1" name="layoutgrid9">
                            <wm-gridrow name="gridrow32">
                                <wm-gridcolumn name="gridcolumn38">
                                    <wm-panel title="" name="panel2">
                                        <wm-layoutgrid name="layoutgrid10">
                                            <wm-gridrow name="gridrow33">
                                                <wm-gridcolumn columnwidth="12" name="gridcolumn39">
                                                    <wm-form-field name="locale" readonly="false" displayname="Locale" key="locale" type="string" show="true" widget="select" placeholder="( Select )" dataset="bind:filteredLocale" required="true" validationmessage="Locale is required"
                                                        datafield="locale" disabled="bind:isEditLocale" displayfield="locale"></wm-form-field>
                                                </wm-gridcolumn>
                                            </wm-gridrow>
                                            <wm-gridrow name="gridrow34">
                                                <wm-gridcolumn columnwidth="12" name="gridcolumn40">
                                                    <wm-form-field name="description" readonly="false" displayname="Description" key="description" type="string" show="true" widget="text" inputtype="text" placeholder="" required="true" validationmessage="Description is required"></wm-form-field>
                                                </wm-gridcolumn>
                                            </wm-gridrow>
                                        </wm-layoutgrid>
                                    </wm-panel>
                                </wm-gridcolumn>
                            </wm-gridrow>
                        </wm-layoutgrid>
                    </wm-form>
                </wm-gridcolumn>
            </wm-gridrow>
            <wm-gridrow name="gridrow30_1">
                <wm-gridcolumn columnwidth="12" name="gridcolumn37"></wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-dialogactions name="dialogactions2">
            <wm-button class="btn-primary" caption="Add" type="button" margin="unset 0.5em" name="saveLocaleBtn" on-click="saveLocaleBtnClick($event, widget)"></wm-button>
            <wm-button class="btn-link" caption="Cancel" on-click="closeDialog()" name="button7"></wm-button>
        </wm-dialogactions>
    </wm-dialog>
    <wm-confirmdialog name="exitConfirmDialog" title="bind:appLocale.EXIT_PAGE" iconclass="" canceltext="LEAVE" oktext="STAY" on-cancel="exitConfirmDialogCancel($event, widget)" message="bind:appLocale.UNSAVED_CHANGES_LOST_MSG"></wm-confirmdialog>
    <wm-confirmdialog name="relationDelete_confirmDialog" title="" message="bind:appLocale.MESSAGE_DELETE_RECORD_CONFIRM" oktext="YES" canceltext="NO" iconclass="" modal="false" closable="false" on-cancel="Widgets.relationDelete_confirmDialog.close()"
        on-ok="relationDelete_confirmDialogOk($event, widget)"></wm-confirmdialog>
</wm-page>
<wm-page pagetitle="AR Agent View" name="page1">
    <wm-header content="header" name="header1"></wm-header>
    <wm-top-nav content="topnav" name="top_nav1"></wm-top-nav>
    <wm-content name="content1">
        <wm-layoutgrid name="layoutgrid1">
            <wm-gridrow name="gridrow1">
                <wm-gridcolumn columnwidth="4" name="gridcolumn1">
                    <h2 class="actionlabel" style="text-decoration: underline; margin: 10px 0 0 20px;">AR Agent View</h2>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-layoutgrid name="layoutgrid2">
            <wm-gridrow name="gridrow3">
                <wm-message name="errormessage" type="error" show="bind:Variables.errorMsg.dataSet.dataValue ? true : false" caption="bind:Variables.errorMsg.dataSet.dataValue" class="errormessage" deferload="false" hideclose="true" width="100%"></wm-message>
            </wm-gridrow>
            <wm-gridrow name="gridrow6">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="filterCriteriaGrid">
                    <wm-label caption="Filter Criteria" name="label8" color="#000" textdecoration="underline" style="font-size: 16px;"></wm-label>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-layoutgrid name="layoutgrid4">
            <wm-gridrow name="gridrow6" margin="10px 0 30px 0">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="assignedTeamGrid">
                    <wm-label caption="Assigned Team" name="label8" color="grey" class="ARAgentLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50" class="selectGrid">
                    <wm-select name="AssignedTeamSelect" width="100%" padding="unset 0.5em" dataset="bind:Variables.getAllTeamList_ARAgentView.dataSet" datafield="teamId" placeholder="" displayfield="teamId" on-change="AssignedTeamSelectChange($event, widget, newVal, oldVal)"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="assignedPersonGrid">
                    <wm-label caption="Assigned Person" name="label8" color="grey" class="ARAgentLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50">
                    <wm-select name="AssignedPersonSelect" width="100%" padding="unset 0.5em" dataset="bind:Variables.getAllActiveUserList_ARAgentView.dataSet" displayexpression="bind:$[firstName]==&quot;NULL&quot;? $[firstName] : $[firstName]+&quot; &quot;+$[lastName]"
                        placeholder="" on-change="actionStatusSelect($event, widget, newVal, oldVal)" datafield="empId"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="entityOwnerGrid">
                    <wm-label caption="Entity Owner" name="label8" color="grey" class="ARAgentLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50">
                    <wm-select name="EntityOwnerSelect" width="100%" padding="unset 0.5em" dataset="bind:Variables.getAllActiveUserList_ARAgentView.dataSet" displayexpression="bind:$[firstName]==&quot;NULL&quot;? $[firstName] : $[firstName]+&quot; &quot;+$[lastName]"
                        placeholder="" displayfield="dataValue" on-change="EntityOwnerSelectChange($event, widget, newVal, oldVal)" datafield="empId" datavalue="bind:Variables.UserLoggedInVar_ARAgent.dataSet.empId"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="workCategoryGrid">
                    <wm-label caption="Work Category" name="label8" color="grey" class="ARAgentLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50">
                    <wm-select name="WorkCategorySelect" width="100%" padding="unset 0.5em" dataset="bind:Variables.workCategoryValues_ARAgent.dataSet" datafield="code" displayfield="code" placeholder="" multiple="true" style="display: block; width: 145%;"
                        on-change="WorkCategorySelectChange($event, widget, newVal, oldVal)"></wm-select>
                </wm-gridcolumn>
            </wm-gridrow>
            <wm-gridrow name="gridrow7">
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="actionTypeGrid">
                    <wm-label caption="Action Type" name="label8" color="grey" class="ARAgentLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50" class="selectGrid">
                    <wm-select name="ActionTypeSelect" width="100%" padding="unset 0.5em" dataset="bind:Variables.actionTypeSelect_ARAgentView.dataSet" datafield="code" placeholder="" displayfield="code" on-change="ActionTypeSelectChange($event, widget, newVal, oldVal)"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="statusGrid">
                    <wm-label caption="Status" name="label8" color="grey" class="ARAgentLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50">
                    <wm-select name="StatusSelect" width="100%" padding="unset 0.5em" dataset="bind:Variables.statusSelect_ARAgentView.dataSet" datafield="code" placeholder="" displayfield="code" on-change="StatusSelectChange($event, widget, newVal, oldVal)"></wm-select>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="fromDateGrid">
                    <wm-label caption="From Due Date" name="label8" color="grey" class="ARAgentLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50">
                    <wm-date name="creationDate" id="creationDate" placeholder="" datepattern="yyyy-MM-dd"></wm-date>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn51" class="toDateGrid">
                    <wm-label caption="To Due Date" name="label8" color="grey" class="ARAgentLabel"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn50">
                    <wm-date name="completionDate" id="creationDate" placeholder="" datepattern="yyyy-MM-dd"></wm-date>
                </wm-gridcolumn>
                <wm-gridcolumn columnwidth="1" name="gridcolumn56" class="filterButtons" width="30.7%">
                    <wm-button class="secondaryButton" caption="Clear" on-click="clearFilterFields()" name="button1" margin="0 10px 0 0"></wm-button>
                    <wm-button class="primaryButton" id="createBtn" caption="Filter" on-click="applyFilter($event, widget)" name="button3"></wm-button>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-layoutgrid name="layoutgrid4_1" padding="2em 2em 2em 2em" style="border: 1px solid #ddd;" width="96%" margin="2em 2em 2em 2em">
            <wm-gridrow name="gridrow5">
                <wm-gridcolumn columnwidth="12" name="gridcolumn20">
                    <wm-table name="getActionViewByTeamTable1" title="" dataset="bind:Variables.CollectionDataServiceGetActionViewByTeam.dataSet" navigation="None" pagesize="20" showrecordcount="true" navigationalign="right">
                        <wm-table-column binding="actionId" caption="Action ID" width="77px" edit-widget-type="number" type="integer" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="entityId" caption="ENT ID" widget-type="anchor" width="64px" edit-widget-type="number" type="integer" show="true" readonly="false">
                            <wm-anchor caption="bind:row.getProperty('entityId')" hyperlink="bind:row.getProperty('entityId')" class="" conditionalclass="" on-click="goToEnityPage(row)"></wm-anchor>
                        </wm-table-column>
                        <wm-table-column binding="entityName" caption="ENT Name" width="200px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="collectionStatus" caption="COLL Status" width="96px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="entityOwner" caption="ENT Owner" width="92px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="workCategory" caption="Work Category" width="90px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="totalAr" caption="Total AR" width="95px" col-class="total_AR" edit-widget-type="number" type="double" show="true" readonly="false">
                            <wm-label caption="bind:row.getProperty('totalAr') | toCurrency: ''" class="" conditionalclass=""></wm-label>
                        </wm-table-column>
                        <wm-table-column binding="totalOverDue" caption="Total OD" width="95px" col-class="total_OD" edit-widget-type="number" type="double" show="true" readonly="false">
                            <wm-label caption="bind:row.getProperty('totalOverDue') | toCurrency: ''" class="" conditionalclass=""></wm-label>
                        </wm-table-column>
                        <wm-table-column binding="actionType" caption="Action Type" width="92px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="dueDate" caption="Due Date" width="90px" edit-widget-type="datetime" type="datetime" datepattern="yyyy-MM-dd" formatpattern="toDate" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="status" caption="Status" width="90px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="assignedTeam" caption="Assigned Team" width="90px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                        <wm-table-column binding="assignedAgent" caption="Assigned Person" width="90px" edit-widget-type="text" type="string" show="true" readonly="false"></wm-table-column>
                    </wm-table>
                </wm-gridcolumn>
            </wm-gridrow>
            <wm-container name="containerPagination1"></wm-container>
            <wm-prefab prefabname="Telus_Paginaton" paginationname="containerPagination1" show="true" name="Telus_Paginaton" pagesize="20" on-pagechange="Telus_PaginatonPagechange($event, $data)" totalrecords="bind:Variables.CollectionDataServiceGetActionViewByTeam.dataSet[0].totalNumberOfElement"></wm-prefab>
        </wm-layoutgrid>
    </wm-content>
</wm-page>